ERROR 2026-02-13 11:03:39,332 log Internal Server Error: /api/professionals/1
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\utils\deprecation.py", line 122, in __call__
    response = self.process_response(request, response)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
    ...<9 lines>...
    )
RuntimeError: You called this URL via DELETE, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining DELETE data. Change your form to point to localhost:8000/api/professionals/1/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR 2026-02-13 11:03:39,337 basehttp "DELETE /api/professionals/1 HTTP/1.1" 500 74473
ERROR 2026-02-13 11:04:11,480 log Internal Server Error: /api/professionals/1
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\utils\deprecation.py", line 122, in __call__
    response = self.process_response(request, response)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
    ...<9 lines>...
    )
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to localhost:8000/api/professionals/1/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR 2026-02-13 11:04:11,483 basehttp "POST /api/professionals/1 HTTP/1.1" 500 74312
ERROR 2026-02-13 11:07:10,571 log Internal Server Error: /api/professionals/2
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\utils\deprecation.py", line 122, in __call__
    response = self.process_response(request, response)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 108, in process_response
    return self.response_redirect_class(self.get_full_path_with_slash(request))
                                        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\middleware\common.py", line 87, in get_full_path_with_slash
    raise RuntimeError(
    ...<9 lines>...
    )
RuntimeError: You called this URL via DELETE, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining DELETE data. Change your form to point to localhost:8000/api/professionals/2/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR 2026-02-13 11:07:10,575 basehttp "DELETE /api/professionals/2 HTTP/1.1" 500 74489
ERROR 2026-02-13 11:07:26,309 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:07:26,317 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:07:57,294 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:07:57,299 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:08:16,486 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:08:16,490 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:09:09,727 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:09:09,735 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:09:11,555 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:09:11,563 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:09:22,233 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:09:22,238 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:09:45,549 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'appointment' is not defined
ERROR 2026-02-13 11:09:45,560 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:10:22,643 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if Appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'Appointment' is not defined
ERROR 2026-02-13 11:10:22,652 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:10:24,322 log Internal Server Error: /api/professionals/2/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 24, in destroy
    if Appointment.objects.filter(professional=professional).exists():
       ^^^^^^^^^^^
NameError: name 'Appointment' is not defined
ERROR 2026-02-13 11:10:24,327 basehttp "DELETE /api/professionals/2/ HTTP/1.1" 500 98695
ERROR 2026-02-13 11:17:49,851 log Internal Server Error: /api/professionals/1/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 26, in destroy
    return Response({"error": "Não é possível excluir um profissional com agendamentos associados."},
           ^^^^^^^^
NameError: name 'Response' is not defined
ERROR 2026-02-13 11:20:32,162 log Internal Server Error: /api/professionals/1/
Traceback (most recent call last):
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 486, in raise_uncaught_exception
    raise exc
  File "C:\Users\pedro\AppData\Local\pypoetry\Cache\virtualenvs\lacrei-saude-api-6hFjSbyJ-py3.14\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\pedro\projetos\lacrei-saude-api\professionals\views.py", line 26, in destroy
    return Response({"error": "Não é possível excluir um profissional com agendamentos associados."},
           ^^^^^^^^
NameError: name 'Response' is not defined
